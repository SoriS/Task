<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Список пользователей</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
</head>

<body>
    <h2>Список пользователей</h2>

    <button onclick="find()">filter</button>

    <input type="date" id="from" />
    <input type="date" id="to" />

    <button onclick="getData()">Get</button>


    <div style="width: 400px; height: 400px" width="400" height="400">

        <canvas id="myChart" style="width: 400px; height: 400px"></canvas>
    </div>

    <div style="width: 400px; height: 400px" width="400" height="400">

        <canvas id="myChart2" style="width: 400px; height: 400px"></canvas>
    </div>

    <script>
                     var find = function () {
                         var from = document.getElementById('from').value;
                         var to = document.getElementById('to').value;

                         $.get('api/getFilter', { from, to }, function (response) {

                             var myPieChart = new Chart(document.getElementById("myChart2"), {
                                 type: 'pie',
                                 data: response,
                                 // options: options
                             });
                         });


                     }
                     var getData = function () {
                         $.get('api/getEmails', null, function (response) {

                             var myPieChart = new Chart(document.getElementById("myChart"), {
                                 type: 'pie',
                                 data: response,
                                 // options: options
                             });
                         });
                     }
    </script>
</body>

</html>